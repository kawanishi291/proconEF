{% extends 'carsharing_req/base.html' %}
{% load static %}

    
{% block title %}{{title}}{% endblock %}

{% block main_contents %}
    <form action="{% url 'secondhandcar:search' %}" method="post" >
    {% csrf_token %}
    <div class="m-1 clearfix" style="border-top: solid 3px #000;border-bottom: solid 3px #000;">
        <input type="submit" class="btn btn-dark m-1" name="parent_category" value="ホンダ" style="float:left;clear:none;"/>
        <input type="submit" class="btn btn-dark m-1" name="parent_category" value="日産" style="float:left;clear:none;"/>
        <input type="submit" class="btn btn-dark m-1" name="parent_category" value="トヨタ" style="float:left;clear:none;"/>
        <input type="submit" class="btn btn-dark m-1" name="parent_category" value="スズキ" style="float:left;clear:none;"/>
        <input type="submit" class="btn btn-dark m-1" name="parent_category" value="ＢＭＷ" style="float:left;clear:none;"/>
        <input type="submit" class="btn btn-dark m-1" name="parent_category" value="ダイハツ" style="float:left;clear:none;"/>
    </div>
    </form>
{% for car_obj in secondhandcar_info %}
    {% comment %} <div class="card-deck m-3">
        <h3 class="card-header">{{car_obj.category}}({{car_obj.parent_category}})</h3>
        <div class="card-body p-1">
            <p>型番：{{car_obj.model}}</p>
            <p>発売期間：{{car_obj.release_period}}</p>
            <p>グレード：{{car_obj.grade}}</p>
            <div>
                <img border="0" src="{{car_obj.img1}}" width="128" alt="{{car_obj.img1}}">
                <img border="0" src="{{car_obj.img2}}" width="128" alt="{{car_obj.img2}}">
                <img border="0" src="{{car_obj.img3}}" width="128" alt="{{car_obj.img3}}">
            </div>
        </div>
    </div> {% endcomment %}
    <div class="card m-5">
        <h5 class="card-header card-title">{{car_obj.category}}({{car_obj.parent_category}})</h5>
        <div>
            <img src="{{car_obj.img1}}" class="img" style="height: 191pt;">
            <img src="{{car_obj.img2}}" class="img" style="height: 191pt;">
            <img src="{{car_obj.img3}}" class="img" style="height: 191pt;">
        </div>
        <div class="card-body">
            <p class="card-text">型番：{{car_obj.model}}</p>
            <p class="card-text">発売期間：{{car_obj.release_period}}</p>
            <p class="card-text">グレード：{{car_obj.grade}}</p>
            <a class="text-secondary" href="/secondhandcar/detail/{{car_obj.id}}">詳しく見る &raquo;</a>
        </div>
    </div>
{% endfor %}
    {% if POST == False %}
        <ul class="pagination justify-content-center">
            {% if secondhandcar_info.has_previous %}
            <li class="page-item">
                <a class="page-link" href="{% url 'secondhandcar:search' %}">&laquo; first</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="{% url 'secondhandcar:search' %}{{ secondhandcar_info.previous_page_number }}">&laquo; prev</a>
            </li>
            {% else %}
            <li class="page-item">
                <a class="page-link">&laquo; first</a>
            </li>
            <li class="page-item">
                <a class="page-link">&laquo; prev</a>
            </li>
            {% endif %}
            <li class="page-item">
                <a class="page-link">{{ secondhandcar_info.number }}/{{ secondhandcar_info.paginator.num_pages }}</a>
            </li>
            {% if secondhandcar_info.has_next %}
            <li class="page-item">
                <a class="page-link" href="{% url 'secondhandcar:search' %}{{ secondhandcar_info.next_page_number }}">next &raquo;</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="{% url 'secondhandcar:search' %}{{ secondhandcar_info.paginator.num_pages }}">last &raquo;</a>
            </li>
            {% else %}
            <li class="page-item">
                <a class="page-link">next &raquo;</a>
            </li>
            <li class="page-item">
                <a class="page-link">last &raquo;</a>
            </li>
            {% endif %}
        </ul>
    {% endif %}
{% endblock %}